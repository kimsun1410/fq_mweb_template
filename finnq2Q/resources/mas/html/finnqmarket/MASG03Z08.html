<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="utf-8">
	<title>07기프티몰_09상품상세_MASG03Z08</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=0" />
	<meta name="format-detection" content="telephone=no">
	<link rel="stylesheet" href="../../css/ui.css?time=20180117" />
	<link rel="stylesheet" href="../../css/ui_finnqmarket.css?time=20180209" />
</head>
<body>
<div class="wrap bg_list" id="MASG03Z08">
	<!-- contents -->
	<div id="contents" class="market add_sticky">
		<!-- section -->
		<section class="gifticon_prd_detail">
			<div class="sec_prd_detail">
				<div class="sub_cont typeE">
					<article class="prd_list_wrap">
						<div class="prd_wrap discount_prd"><!-- 결제시 할인 : discount_prd 2018-11-01 ock -->
							<div class="prd_img">
								<img src="../../images/test/img_prd_thumb.jpg" alt="">
							</div>
							<div class="prd_info_wrap">
								<div class="name_info">
									<span class="">유효기간 <em class="date">90</em>일</span>
									<strong class="name">[스타벅스] 아이스 카페 아메리카노 초콜릿 쿠키요이 세트 제일 작은 사이즈</strong>
								</div>
								<div class="cash_info">
									<!-- <strike class="discount"><em class="cash">5,200</em><span>원</span></strike> 삭제 2018-11-01 ock -->
									<strong class="price"><em class="cash bold">194,100</em><span>원</span></strong>
									<!-- <strong class="percent"><em class="num bold">99%</em></strong> 삭제 2018-11-01 ock -->
									<strong class="txt_payment_discount">결제시 할인</strong><!-- 결제시 할인 추가 2018-11-01 ock -->
								</div>
							</div>
						</div>
					</article>
				</div>
			</div>
			<div class="sec_gift_input impossible"><!-- 잔고 부족한경우 : impossible 추가 -->
				<!-- 메세지쓰기 추가 2018-11-07 ock -->
				<article class="send_msg">
					<!-- <dl class="input_wrap"> 보내는 사람 영역 삭제 2018-11-07 ock
						<dt class="input_tit">
							<strong>보내는 사람</strong>
						</dt>
						<dd class="flex_wrap set_type2">
							<span class="item name"><input type="text" data-name="inpFocus" placeholder="" class="" value="나선영" disabled></span>
							<span class="item phone"><input type="tel" data-name="inpFocus" placeholder="" class="" value="01012341234" disabled></span>
						</dd>
					</dl> -->

					<dl class="input_wrap">
						<dt class="input_tit">
							<strong>받는 사람</strong>
							<div class="btn_right"><button class="btn btn_text03">주소록에서 찾기</button></div>
						</dt>
						<dd class="flex_wrap set_type2">
							<span class="item name"><input type="text" data-name="inpFocus" placeholder="" class="" value="나선영"></span>
							<span class="item phone inp_error"><!-- 에러 발생 inp_error -->
								<input type="tel" data-name="inpFocus" placeholder="" class="" value="01012341234">
								<!-- span 안으로 태그 이동 2018-11-07 ock -->
								<p class="remark">필수 입력 사항입니다.</p><!-- hide --><!-- 메세지 추가 2018-03-28 ock -->
							</span>

						</dd>
					</dl>

					<dl class="input_wrap msg_form"> <!-- class 추가 : msg_form -->
						<dt class="input_tit">
							<strong>메세지쓰기</strong>
						</dt>
						<dd class="flex_wrap">
							<div class="wrap_count"><!-- 텍스트 카운트 기능 있는 input -->
								<p class="txt_count"><em>0</em>/<i>40</i></p><!-- inp_count의 maxlength값이 i에 들어감 -->
								<!-- data-length 속성 추가 2018-07-12 ock -->
								<!-- maxlength 삭제하지말고 빈값으로 두거나 아무값 넣으면 됨 2018-07-12 ock -->
								<span class="item"><textarea cols="100" rows="2" data-name="inpFocus" placeholder="내용을 입력하세요." maxlength="" data-length="40" class="inp_counts" data-placeholder="내용을 입력하세요."></textarea></span>

								<div class="quick_msg">
									<button class="btn btn_type_g">감사해요</button>
									<button class="btn btn_type_g">생일 축하해요</button>
									<button class="btn btn_type_g">사랑해요</button>
									<button class="btn btn_type_g">고마워요</button>
									<button class="btn btn_type_g">화이팅</button>
									<button class="btn btn_type_g">힘내세요</button>
									<button class="btn btn_type_g">수고하셨어요</button>
								</div>
							</div>
						</dd>
					</dl>
				</article>

				<article>
					<div class="purchase_info">
						<dl>
							<dt>상품 수량</dt>
							<dd>
								<div class="amount_control"><!-- 최대 수량 5개 이상 넘어갈때 class 추가 : warning :ui.js-->
									<a href="#none" class="btn_control_down"><span class="blind">감소</span></a> <!-- 감소 -->
									<span><input type="text" class="amount_num" value="0"></span>
									<a href="#none" class="btn_control_up"><span class="blind">증가</span></a> <!-- 증가 -->
								</div>
								<p class="remark pos">최대 5개까지 구매 가능합니다.</p>
							</dd>
						</dl>
						<dl>
							<dt>상품 금액</dt>
							<dd>
								<em class="cash bold">4,100</em><span>원</span>
							</dd>
						</dl>
						<dl>
							<dt>할인액</dt>
							<dd>
								<em class="cash bold">4,100</em><span>원</span> <em class="num bold">(8%)</em>
							</dd>
						</dl>
						<dl class="payment">
							<dt>결제 금액</dt>
							<dd>
								<em class="cash bold">3,772</em><span>원</span>
								<p class="remark">최대 <em class="num">50</em>만원까지 구매 가능합니다.</p><!-- 19.05.02 : 안내문구 추가 : 에러시 hide 삭제 -->
							</dd>
						</dl>
					</div>

					<div class="purchase_impossible">
						<p>핀크 계좌 잔액이 <em class="cash bold">1,200</em><span>원</span> 부족합니다.<br />잔액 채운 후 구매하세요.</p><!-- 19.05.02 : 문구 수정 -->
						<div class="btn_replenish">
							<button type="button" name="button" class="btn btn_type_h">핀크 계좌 채우기</button>
						</div>
					</div>
				</article>
			</div>

			<div class="sec_basic_list">
				<ul>
					<li>
						<a href="#none">기프티콘 이용약관</a><!-- 2018-03-23 문구 수정 phj -->
					</li>
					<li>
						<a href="#none">연장/환불 안내</a>
					</li>
				</ul>
			</div>

		</section>
		<!-- //section -->

		<!-- 19.05.02 : 버튼 비활성 시 disabled="disabled" 속성 추가 -->
		<div class="sticky_wrap set_type1">
			<button type="button" name="" class="btn btn_type_apply">구매하기</button>
		</div>
	</div>
	<!-- //contents -->
</div>
<script src="../../libs/jquery-2.2.4.min.js"></script>
<script src="../../libs/ui.js"></script>
<script src="../../libs/contents.js"></script>

<script>
$(document).ready(function(){

	var _inpVal,
		_limit = 40,
		_length = 0;

	function textCount() {
		$('.inp_counts').bind('keyup input', function (e) {
			var attrMax = $(this).attr("maxlength");
			if ($(this).is("textarea")){
				if (typeof attrMax !== typeof undefined && attrMax !== false) {
					$(this).attr("maxlength", "");
				}
			}
			var count = $(this).parents('.wrap_count').find('.txt_count em');
			_length = $(this).val().length;

			limitEventVal(_length);
			count.text(_length);
		});
	}

	function limitEventVal(length){
		if (length > _limit){
			length = _limit;
			inpVal = $('.inp_counts').val().substring(0,_limit);
			$('.inp_counts').val(inpVal);
		}
	}

	$(this).on('click', '.quick_msg button', function(){
		var cont = $('.msg_form .inp_counts').val();

		//클릭 버튼 텍스트, 개수
		$('.msg_form .inp_counts').val('');
		var thisText = cont + $(this).text();
		$('.msg_form .inp_counts').val(thisText);

		limitEventVal(thisText.length)
		$('.msg_form .inp_counts').trigger('keyup');
	});

	textCount();
});


</script>
</body>
</html>
