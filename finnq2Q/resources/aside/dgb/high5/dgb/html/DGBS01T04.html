<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>적금설정 | 가입 | T high5적금</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no ,viewport-fit=cover" />
<meta name="format-detection" content="telephone=no">
<link rel="stylesheet" href="../css/dgb_finnq.css" />
<script src="../js/jquery-2.2.4.min.js"></script>
<script type="text/javascript" src="../js/finnq_ui.js"></script>
</head>
<body>
<div class="wrap bg_list">
	<div id="contents" class="add_sticky">
		<div class="sec_ows_head finnq">
			<!-- <button class="ows_prev" onclick="history.back();"><span class="blind">이전</span></button> -->
			<h2 class="ows_title">T high<em class="num">5</em> 적금</h2>
			<button class="btn_cancel" onclick="">취소</button>
		</div>

		<section class="tfinnq_wrap">

			<!-- 19.06.11 : 스탭 수정 -->
			<div class="sec_step">
				<ol>
					<li class="on complete"><!-- 진행 완료된 step은 class : complete 추가 -->
						<strong>1</strong><i class="step_dot"></i>
					</li>
					<li class="on"><!-- 진행 완료된 step은 class : complete 추가 -->
						<strong>2</strong><i class="step_dot"></i>
					</li>
					<li><!-- 진행 완료된 step은 class : complete 추가 -->
						<strong>3</strong>
					</li>
				</ol>
			</div>
			<!-- //19.06.11 : 스탭 수정 -->

			<div class="sec_title">
				<h2 class="accent_txt normal">적금설정</h2>
			</div>

			<div class="list_expend_wrap dgb">
				<ul class="list_expend dgb">
					<li>
						<div>
							<p class="title">혜택 안내</p>
							<article>
								<ul class="split gray_box add_info">
									<li>
										<span class="tit">기본금리</span>
										<span class="cont bold">연 <em class="num bold">2</em>%</span>
									</li>
									<li>
										<span class="tit">우대금리</span>
										<span class="cont bold">연 <em class="num bold">2</em>%</span>
									</li>
									<li>
										<span class="tit">캐시백</span>
										<span class="cont bold">연 <em class="num bold">2</em>%</span>
									</li>
								</ul>
								<p class="tot_info">
									<span class="tit">총 혜택</span>
									<span class="cont">연 <em class="num bold">6</em>%</span>
								</p>
							</article>
						</div>
					</li>
					<li>
						<div class="box_layout_com">
							<div class="cal_wrap">
								<p class="title">납입금액</p>
								<div class="benefit_cal set_3">
									<span class="active"><i class="knob"></i></span>
									<ul class="">
										<li class="cal1 on"><a href="#none"><em class="num">5</em>만원</a></li>
										<li class="cal2"><a href="#none"><em class="num">10</em>만원</a></li>
										<li class="cal3"><a href="#none"><em class="num">15</em>만원</a></li>
									</ul>
									<span class="bar"></span>
								</div>
							</div>

							<div class="add_cont">
								<p class="title">가입 기간</p>
								<ul class="tab_purple up_two">
									<li class="on"><a href="#none"><em class="num">12</em>개월</a></li>
									<li class=""><a href="#none"><em class="num">24</em>개월</a></li>
								</ul>
							</div>

							<div class="add_cont">
								<span class="title">만기시 예상 원금 및 혜택</span>
								<div class="gray_box">
									<ul class="split">
										<li>
											<span class="tit">원금</span>
											<span class="cont bold"><em class="num bold">600,000</em>원</span>
										</li>
										<li>
											<span class="tit">이자 (세전)</span>
											<span class="cont bold"><em class="num bold">12,000</em>원</span>
										</li>
										<li>
											<span class="tit">캐시백</span>
											<span class="cont bold"><em class="num bold">12,000</em>원</span>
										</li>
									</ul>
								</div>
							</div>

						</div><!-- //box_layout_com -->
					</li>
					<li>
						<div class="txt_info">
							<span class="tit">적립 방법</span>
							<span class="cont">정액 적립식</span>
						</div>
					</li>
					<li>
						<!--
						<div class="box_layout_com">
							<article>
								<div class="tooltip_wrap">
									<span class="title">만기해지 구분</span>
									<button class="btn_ico ico_circle_help" data-name="open_help"><span class="blind">도움말</span></button>
									<div class="layer_wrap">
										<p>[만기시 자동해지]<br>
											예금 계약기간 만료시 <em>원리금이 자동 해지</em>되어 예금 가입시 출금계좌로 자동 입금처리 됩니다.<br><br>

											[직접해지]<br>
											예금 계약기간 만료 후 손님이 <em>직접 해지</em>를 해야만 원리금이 예금 가입시 출금계좌로 입금됩니다.<br>
											<span>(미해지 기간의 이율은 만기 후 이율이 적용되며, 본인인증을 거친 후 해지가 됩니다.)</span>
										</p>
									</div>
								</div>

								<ul class="tab_purple up_two">
									<li class="on"><a href="#none">만기시 자동해지</a></li>
									<li class=""><a href="#none">직접해지</a></li>
								</ul>
								<p class="star_type mgt20">미납회차가 있는 경우 자동해지 처리되지 않습니다.</p>
								<p class="star_type">만기 시 자동해지 금액은 선택하신 출금 계좌로  입금됩니다.</p>
							</article>
						</div> -->

						<!-- 19.04.23 만기해지 구분 수정 -->
						<div class="txt_info layer">

							<span class="tit">
								만기해지 구분
								<button class="btn_ico ico_circle_help" data-name="open_help"><span class="blind">도움말</span></button>
								<div class="layer_wrap">
									<p>[만기시 자동해지]<br>
										예금 계약기간 만료시 <em>원리금이 자동 해지</em>되어 예금 가입시 출금계좌로 자동 입금처리 됩니다.<br><br>

										[직접해지]<br>
										예금 계약기간 만료 후 손님이 <em>직접 해지</em>를 해야만 원리금이 예금 가입시 출금계좌로 입금됩니다.<br>
										<span>(미해지 기간의 이율은 만기 후 이율이 적용되며, 본인인증을 거친 후 해지가 됩니다.)</span>
									</p>
								</div>
							</span>
							<span class="cont">만기 시 자동해지</span>
						</div>
						<!-- //19.04.23 만기해지 구분 수정 -->
					</li>
					<li><!-- 19.04.23 비밀번호 설정 컬럼 추가 -->
						<div class="input_wrap">
							<dl>
								<dt class="input_tit">
									<strong>비밀번호 설정</strong>
								</dt>
								<dd class="item">
									<input type="text" data-name="inpFocus" placeholder="비밀번호 (숫자 4자리)" data-placeholder="비밀번호 (숫자 4자리)" class="">
								</dd>
								<dd class="item mgt10">
									<input type="text" data-name="inpFocus" placeholder="비밀번호 확인" data-placeholder="비밀번호 확인" class="">
									<p class="remark hide">비밀번호를 입력해 주세요.</p>
								</dd>
							</dl>
						</div>

						<!-- 에러가 날 경우 -->
						<!-- 클래스 : item에 inp_error 추가, remark에 hide 삭제 -->
						<!-- <div class="input_wrap">
							<dl>
								<dt class="input_tit">
									<strong>계좌 비밀번호 설정</strong>
								</dt>
								<dd class="item inp_error">
									<input type="text" data-name="inpFocus" placeholder="비밀번호 (숫자 4자리)" data-placeholder="비밀번호 (숫자 4자리)" class="">
								</dd>
								<dd class="item  mgt10 inp_error">
									<input type="text" data-name="inpFocus" placeholder="비밀번호 확인" data-placeholder="비밀번호 확인" class="">
									<p class="remark">비밀번호를 입력해 주세요.</p>
								</dd>
							</dl>
						</div> -->
						<!-- //에러가 날 경우 -->
					</li><!-- //19.04.23 비밀번호 설정 컬럼 추가 -->
					<li>
						<div class="box_layout_com">
							<div class="account_opt_wrap input_wrap">
								<div class="tooltip_wrap">
									<span class="title">출금계좌</span>
									<button class="btn_ico ico_circle_help" data-name="open_help"><span class="blind">도움말</span></button>
									<div class="layer_wrap">
										<p>[만기시 자동해지]<br>
											예금 계약기간 만료시 <em>원리금이 자동 해지</em>되어 예금 가입시 출금계좌로 자동 입금처리 됩니다.<br><br>

											[직접해지]<br>
											예금 계약기간 만료 후 손님이 <em>직접 해지</em>를 해야만 원리금이 예금 가입시 출금계좌로 입금됩니다.<br>
											<span>(미해지 기간의 이율은 만기 후 이율이 적용되며, 본인인증을 거친 후 해지가 됩니다.)</span>
										</p>
									</div>
								</div>
								<div class="input_wrap soft_select item mgt0">
									<a href="#" class="btn_select_pop">출금계좌 선택</a>
									<p class="remark hide">출금계좌를 선택해 주세요.</p>
								</div>
								<div class="input_wrap item">
									<span>
										<input type="password" data-name="inpFocus" placeholder="계좌 비밀번호" class="">
										<p class="remark hide">계좌 비밀번호를 입력해 주세요.</p>
									</span>
								</div>

								<!-- 클래스 : inp_error 추가, remark에 hide 삭제  -->
								<!-- 에러가 날 경우 -->

								<!-- <div class="soft_select item inp_error">
									<a href="#" class="btn_select_pop">출금계좌 선택</a>
									<p class="remark">출금계좌를 선택해 주세요.</p>
								</div>
								<div class="item inp_error">
									<span>
										<input type="password" data-name="inpFocus" placeholder="계좌 비밀번호" class="">
										<p class="remark">계좌 비밀번호를 입력해 주세요.</p>
									</span>
								</div> -->
								<!-- //에러가 날 경우 -->

							</div><!-- //account_opt_wrap -->

							<div class="add_cont group2">
								<div class="tooltip_wrap">
									<span class="title">자동이체 신청</span>
									<button class="btn_ico ico_circle_help" data-name="open_help"><span class="blind">도움말</span></button>
									<div class="layer_wrap">
										<p>자동이체 계좌는 신청서에서 <em>입력하신 출금 계좌로 자동으로 등록</em>되며, 입출금통장 동시 신규 개설시에는 해당 입출금통장 계좌로 자동으로 등록됩니다.</p>
									</div>
								</div>

								<ul class="tab_purple up_two transfer">
									<li class="on"><a href="#none">신청함</a></li>
									<li><a href="#none">신청안함</a></li>
								</ul>

								<div class="transfer_cont detail mt10" style="display:block;">
									<div class="gray_box transfer">
										<div class="item soft_select">
											<select data-name="inpFocus" class="color_change">
												<option value="">매월 1일</option>
												<option value="">매월 2일</option>
												<option value="">매월 3일</option>
												<option value="">매월 4일</option>
												<option value="">매월 5일</option>
												<option value="">매월 6일</option>
											</select>
										</div>
										<p class="txt_cont mgt20">
											<em class="num">2019</em>년 <em class="num">6</em>월 <em class="num">01</em>일부터 <strong>매월 <em class="num bold">16</em></strong>일마다 <strong><em class="num bold">5</em>만원</strong>을<br>
											T high<em class="num">5</em> 적금계좌로 자동 이체합니다.
										</p>
									</div>
								</div>
								<!-- //transfer -->
							</div>
							<!-- //group2 -->

							<div class="add_cont group3">
								<div class="tooltip_wrap">
									<span class="title">과세우대</span>
									<button class="btn_ico ico_circle_help" data-name="open_help"><span class="blind">도움말</span></button>
									<div class="layer_wrap">
										<p>과세우대 내용 과세우대 내용 과세우대 내용 과세우대 내용 과세우대 내용 과세우대 내용 과세우대 내용</p>
									</div>
								</div>

								<!-- 19.05.20 탭 비활성화 케이스 추가 -->
								<ul class="tab_purple up_two benefit">
									<li class="on"><a href="#none">일반과세</a></li>
									<li><a href="#none">비과세</a></li>
									<!-- 비과세 비활성화 시 li에 Class="disabled" 추가
										<li class="disabled"><a href="#none">비과세</a></li>
									 -->
								</ul>

								<div class="benefit_cont detail mt10">
									<div class="gray_box benefit">
										<ul class="split add_info">
											<li>
												<span class="tit">전체 한도</span>
												<span class="cont bold"><em class="num bold">30,000,000</em>원</span>
											</li>
											<li>
												<span class="tit">잔여 한도</span>
												<span class="cont bold"><em class="num bold">15,000,000</em>원</span>
											</li>
											<!-- 19.05.20 입력 필드 추가 -->
											<li class="input_area">
												<span class="tit">신청 금액</span>
												<span class="cont bold">
													<input type="number" data-name="inpFocus" class="comma_wonhan">
													<i class="placeholder">0원</i>
													<i class="guide_txt">원</i>
												</span>
											</li>
											<!-- //19.05.20 입력 필드 추가 -->
										</ul>
									</div>
								</div>
								<!-- //transfer -->

								<!-- 19.05.20 안내 문구 추가 -->
								<p class="star_type indent mgt10">비과세 종합저축은 만 <em class="num">65</em>세 이상인 경우에만 가입이 가능합니다.</p>
								<!-- //19.05.20 안내 문구 추가 -->

							</div>
							<!-- //group3 -->

						</div>
					</li>
					<li>
						<div class="box_layout_com">
							<div class="tooltip_wrap">
								<span class="title">고객 정보 변경</span>
								<button class="btn_ico ico_circle_help" data-name="open_help"><span class="blind">도움말</span></button>
								<div class="layer_wrap">
									<p>자동이체 계좌는 신청서에서 <em>입력하신 출금 계좌로 자동으로 등록</em>되며, 입출금통장 동시 신규 개설시에는 해당 입출금통장 계좌로 자동으로 등록됩니다.</p>
								</div>
							</div>


							<ul class="tab_purple up_two modify">
								<li class="on"><a href="#none">현재 번호로 변경</a></li>
								<li><a href="#none">기존 번호 유지</a></li>
							</ul>

							<div class="tab_detail mt10">

								<div class="gray_box on">
									<p class="txt_cont">DGB 대구은행에 등록된 휴대폰 번호가<br>
									현재 번호 <strong>010-1234-5678</strong>로 변경됩니다.</p>
								</div>

								<div class="gray_box">
									<div class="col_box item on">
										<span>
											<input type="number" data-name="inpFocus" placeholder="휴대폰번호" class="" value="01012341234" disabled="disabled">
											<p class="remark hide">휴대폰번호를 입력해 주세요.</p>
										</span>
										<span>
											<button type="button" name="button" class="btn btn_type_f">인증번호 받기</button>
										</span>
									</div>

									<div class="input_wrap pin_number item"><!-- 에러시 inp_error 추가 -->
										<input type="number" data-name="inpFocus" placeholder="인증번호" class="">
										<div class="time_count">03:00</div>
										<p class="remark hide">인증시간이 초과되었습니다.</p><!-- 에러시 hide 삭제 -->
									</div>
								</div>
								<!-- 에러가 날 경우 -->

							</div>
						</div>
					</li>
				</ul>
			</div>

		</section>

		<!-- 계좌 선택 레이어  -->
		<div class="modal_wrap pop_acc_select"><!-- visible normal -->
			<div class="modal_content">
				<div class="sec_title">
					<h3 class="accent_txt">계좌를 선택하세요</h3>
				</div>
				<div class="scroll_wrap" style=""><!-- height magicNumber -->
					<div class="sec_select">
						<ul class="flex_wrap set_type1">
							<li class="item main_acc"><!-- 주계좌 class : main_acc, button : ico_dot 추가 -->
								<button type="button" name="button" data-name="acc-button" class="btn_type_d ico_dot">
									<strong>국민</strong>
									<em class="cash">987-654-321098</em>
								</button>
							</li>
							<li class="item double"><!-- 구계좌 가 있을경우 -->
								<button type="button" name="button" data-name="acc-button" class="btn_type_d">
									<strong>KEB하나</strong>
									<em class="cash">987-654-321098</em>
									<span class="account">(구) <span class="cash">320-654-321098</span></span>
								</button>
							</li>
							<li class="item">
								<button type="button" name="button" data-name="acc-button" class="btn_type_d">
									<strong>국민</strong>
									<em class="cash">987-654-321098</em>
								</button>
							</li>
							<li class="item">
								<button type="button" name="button" data-name="acc-button" class="btn_type_d">
									<strong>KEB하나</strong>
									<em class="cash">987-654-321098</em>
								</button>
							</li>
							<li class="item">
								<button type="button" name="button" data-name="acc-button" class="btn_type_d">
									<strong>KEB하나</strong>
									<em class="cash">987-654-321098</em>
								</button>
							</li>
							<li class="item">
								<button type="button" name="button" data-name="acc-button" class="btn_type_d">
									<strong>KEB하나</strong>
									<em class="cash">987-654-321098</em>
								</button>
							</li>
							<li class="item">
								<button type="button" name="button" data-name="acc-button" class="btn_type_d">
									<strong>KEB하나</strong>
									<em class="cash">987-654-321098</em>
								</button>
							</li>
							<li class="item">
								<button type="button" name="button" data-name="acc-button" class="btn_type_d">
									<strong>KEB하나</strong>
									<em class="cash">987-654-321098</em>
								</button>
							</li>
							<!--
							<li class="item"><button type="button" name="button" data-name="acc-button" class="btn_type_d"><em class="txt">계좌번호 직접 입력</em></button></li> -->
						</ul>
					</div>

					<div class="flex_wrap set_type2">
						<span class="item"><button type="button" name="button" class="close_modal btn_type_f">취소</button></span>
						<span class="item on"><button type="button" name="button" class="close_modal btn_type_f">확인</button></span>
					</div>
				</div><!-- //scroll_wrap -->
			</div>
		</div><!-- //modal_wrap -->

		<!-- 입력값이 모두 입력되면 disabled 속성 삭제 -->
		<div class="sticky_wrap set_type1">
			<button type="button" name="" class="btn btn_type_apply" disabled="disabled">다음</button>
		</div>

	</div><!-- //contents -->
</div>
<script type="text/javascript">
$(function(){
	calculation();
	function calculation() {
		var valW  = 0; //.active - width
		var valL  = 0; //.knob - left
		var durW  = 0; //.active - duration
		var durL  = 0; //.knob - duration
		var delay = 0;
		var theLast = false;
		$(".benefit_cal ul li").each(function(num){
			var $this = $(this);
			var dur   = 600;
			var bar   = $this.parents('.benefit_cal').find(".bar");
			var active= $this.parents('.benefit_cal').find(".active");
			var knob  = $this.parents('.benefit_cal').find(".knob");
			var liww  = $this.parents('.benefit_cal').find("ul li").width()+20;
			var aww   = $this.parents('.benefit_cal').find("ul li a").width()/2;
			var liww2 = $this.parents('.benefit_cal').find("ul li").width()-aww;
			var size  = $this.parents('.benefit_cal').find("ul li").size();

			//마크업 구조변경
			if (!$(this).parents('.benefit_cal').hasClass('flexible')){
				active.after(knob);
			}

			//길이로 퍼센트구하기 = 실제길이/전체길이 * 전체비율
			var calPer = function(valNow, valMax){return valNow/valMax * 100}

			//퍼센트로 시간구하기 = 퍼센트값/전체비율 * 전체시간
			var calDur = function(valNow, valMax){return (calPer(valNow, bar.width())/100) * dur}

			//Active Animate
			var action = function(numW, numL){

				valW = liww*num+liww/2;
				valL = liww*num+liww/2;
				durW = calDur(Math.abs(valW-numW), bar.width());
				durL = calDur(Math.abs(valL-numL), bar.width());

				//마지막인 경우
				if ($this.is(':last-child')){
					valW = bar.width();
					valL = liww*num+liww/2;
					durW = calDur(Math.abs(valW-numW), bar.width());
					durL = calDur(Math.abs(valL-numL), bar.width());
					delay = 0;
					theLast = true;
				} else {
					if (theLast == true){
						valW_Last = liww*(size-1)+liww/2;
						delay = calDur(Math.abs(valW_Last-numW), bar.width());
					} else {
						delay = 0;
					}
					theLast = false;
				}

				active.animate({width:valW}, durW);
				setTimeout(function(){
					knob.animate({left:valL}, durL);
				}, delay)
			}

			//Init Animate
			if($this.hasClass('on')){
				setTimeout(function(){
					action(valW, valL);
				},800)
			}

			//Event Animate
			$this.on('click',function(){
				$(this).addClass('on').siblings().removeClass('on');
				action(valW, valL);
			});
		});
	}


	// 계좌 선택
	$('.sec_select').on('click','[data-name=acc-button]', function(event){
		event.preventDefault();
		$(this).addClass("ico_dot").parent('li').addClass('active')
			.siblings().removeClass('active')
			.find('[data-name=acc-button]').removeClass("ico_dot");
	});

	$('.account_opt_wrap .btn_select_pop').on('click', function(event) {
		event.preventDefault();
		$('.modal_wrap').addClass('visible normal');
		function scrollMake() {
			scrH = $(window).height()*0.5;
			$('.pop_acc_select .sec_select').css({'height':scrH});
		}
		scrollMake();
	});

	$(this).on('click', '.modal_wrap .close_modal.btn_type_f', function(event) {
		event.preventDefault();
		var layerSelect 	= $('.modal_content .scroll_wrap .sec_select li .ico_dot'),
			layerSelStr 	= layerSelect.find('strong').text(),
			layerSelAcc		= layerSelect.find('em.cash').text(),
			selectAccount 	= layerSelStr + '<em class="num">' + layerSelAcc + '</em>';

		$('.account_opt_wrap .btn_select_pop').addClass('on').html(selectAccount);
		$('.modal_wrap').removeClass('visible normal');
	});

	// 탭 이벤트
	// 19.05.20 비과세 비활성화 케이스 추가
	$('.tab_purple > li > a').on('click', function(event){

		var status = $(this).parent().hasClass('disabled');
		if (status) { return; }

		event.preventDefault();
		var idx 	  	 = $(this).parent().index(),
			targetEvt 	 = $(this).parents('.tab_purple').attr('class').split(' ')[2];

		$(this).parent().addClass('on').siblings().removeClass('on');


		// targetEvt == 'transfer'

		switch(targetEvt){
			// transfer : 자동이체 신청
			case "transfer" :
				if (idx == 0) {
					$('.list_expend.dgb .transfer_cont').slideDown();
				} else {
					$('.list_expend.dgb .transfer_cont').slideUp();
				}
			break;

			case "benefit" :
				if (idx == 1) {
					$('.list_expend.dgb .benefit_cont').slideDown();
				} else {
					$('.list_expend.dgb .benefit_cont').slideUp();
				}
			break;

			// update : 고객정보 변경
			case "modify" :
				$('.tab_detail > div').eq(idx).addClass('on').siblings().removeClass('on');
			break;
		};
	});

	// 툴팁 이벤트
	$('body').on('touchend',".wrap, .wrap *, .modal_wrap", function(e) {
		$("button[data-name=open_help]").removeClass("on");
		$(".layer_wrap").hide().removeClass("on");
	});


	// 신청금액 입력
	// 19.05.20 추가 START
	$('.input_area input.comma_wonhan').on('focusin', function(){
		inputAreaFunc( $('.input_area input.comma_wonhan') );
		$('.input_area input.comma_wonhan').on('keyup change', function(){
			inputAreaFunc( $('.input_area input.comma_wonhan') );
		});
	})
	.on('focusout', function(){
		$(this).parents('.input_area').removeClass('active');
	});

	function inputAreaFunc(_target)
	{
		var inpVal = $(_target).val().length;
		if (inpVal > 0) { $(_target).parents('.input_area').addClass('on active'); }
		else { $(_target).parents('.input_area').removeClass('on'); }
	}
	// 19.05.20 추가 END

});
</script>
</body>
</html>
